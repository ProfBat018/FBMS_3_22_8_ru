# Темы урока:
* Array vs List
* Basic Reflection для ваших мозгов (просто показать что такое рефлексия) 😈
* Исключения
* Partial Types
* Индексаторы 
* Интерфейсы (+ Следующий урок)


## Array vs List

Array - Это обычный массив к которому вы привыкли.

В С# все типы данных являются либо классами,
либо структурами. 

Например int[] - это класс Array, а не просто массив.

List<int> - это класс List, а не просто список.

Он работает как vector в С++. 
У него есть capacity и поле _items - это массив, в котором хранятся все элементы.

## Exceptions - Исключения

1. Все исклчения наследуются от класса Exception.
2. Все готовые исключения находятся в пространстве имен System.Exception
3. Все исключения можно обрабатывать с помощью конструкции try-catch-finally

Ключевое слово try и catch точно такое же как и в С++, но есть некоторые отличия.

В catch можно писать только те классы, которые наследуются от Exception.
В throw можно писать только те классы, которые наследуются от Exception.
Вы не можете написать throw 404 или throw "Hello World" - это не будет работать.
Вы не можете написать `...` в catch - это не будет работать. Так как все исключения наследуются от Exception, то вы можете написать `catch(Exception e)`
Вы можете сделать `throw new Exception("Hello World")` - это будет работать.

Ключевое слово finally - это блок кода, который будет выполнен в любом случае, даже если произошло исключение.

Можно спросить, а зачем нам finally, если мы можем просто написать код после catch ?
Ответ: finally нужен для того, чтобы закрыть все открытые ресурсы, например файлы, сокеты, базы данных и т.д.
и не факт что код в вашем catch отработает, так как может быть другое исключение.

### Фильтры исключений - Exception Filters

В C# 6.0 появилась возможность фильтровать исключения.

```csharp
try
{
    // ...
}
catch (Exception e) when (e.Message.Contains("Hello"))
{
    // ...
}
```

Все классы исключений, которые вы напишите должны наследоваться от Exception.

### Отличие Exception и ApplicationException. Каверзный вопрос с собеседования.

Exception - это базовый класс для всех исключений.

В один прекрасный день, в компании Microsoft решили, что Exception - нужно сделать только для системных исключений.
Они скзаали: "Давайте сделаем класс ApplicationException, который будет базовым классом для всех пользовательских исключений".

В книге Рихтера "CLR via C#" написано, что ApplicationException - это класс, который нужно использовать для пользовательских исключений.

Какие реалии мы видим на сегодняшний день ?

Никто не использует ApplicationException, так как не все про него знают.
Также уже очень много кода написано с использованием Exception, и если мы поменяем Exception на ApplicationException, то это может привести к непредсказуемым последствиям.







